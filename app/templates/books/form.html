{% macro form_book(book = None, genres = None)%}
<form method="POST" enctype="multipart/form-data">
  {% if request.endpoint == 'create'%}
  <div class="mb-3">
    <label for="name" class="form-label">Название</label>
    <input
      name="name"
      type="text"
      class="form-control"
      id="name"
      value="{{book.name or ''}}"
      required      
    />
  </div>
  <div class="mb-3">
    <label for="author" class="form-label">Автор</label>
    <input
      name="author"
      type="text"
      class="form-control"
      id="author"
      value="{{book.author or ''}}"
      required      
    />
  </div>
  {% endif %}
  <div class="mb-3">
    <label for="description" class="form-label">Краткое описание</label>
    <input
      name="description"
      type="text"
      class="form-control"
      id="description"
      value="{{book.description or ''}}"
      required    
    />
  </div>
  <div class="mb-3">
    <label for="year" class="form-label">Год издания</label>
    <input
      name="year"
      type="text"
      class="form-control"
      id="year"
      value="{{book.year or ''}}  " 
      required      
    />
  </div>
  <div class="mb-3">
    <label for="publishing" class="form-label">Издательство</label>
    <input
      name="publishing"
      type="text"
      class="form-control"
      id="publishing"
      value="{{book.publishing or ''}}"
      required      
    />
  </div>
  <div class="mb-3">
    <label for="pages" class="form-label">Объем</label>
    <input
      name="pages"
      type="text"
      class="form-control"
      id="pages"
      value="{{book.pages or ''}}"
      required      
    />
  </div>
  <div class="mb-3">
    <label for="genres" class="form-label">Жанр(ы)</label>
    <select class="multiple" aria-label="Default select example" id="genres" name="genre_id">
      <option selected>Не выбрано</option>
      {% for genre in genres %}
        <option value="{{genre.id}}">{{genre.name}}</option>
      {% endfor %}
    </select>
  </div>
  <button type="submit" class="btn btn-primary">Сохранить</button>
</form>
{% endmacro %}
